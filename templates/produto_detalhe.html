{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{{ produto.nome }} - Vest Lavichy</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="{% static 'css/index.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Garantindo que o botÃ£o de tamanho selecionado fique vermelho */
        .btn-check:checked + .btn-outline-dark {
            background-color: #b11226 !important;
            border-color: #b11226 !important;
            color: #fff !important;
        }
    </style>
</head>
<body>

<header>
    <div class="container py-3">
        <a href="{% url 'index' %}" class="logo" style="text-decoration: none; font-size: 2rem; font-weight: bold; color: #000;">Vest Lavichy</a>
    </div>
</header>

<main class="container my-5">
    <div class="row">
        <div class="col-md-6 text-center">
            {% for img in produto.imagens.all %}
                {% if img.principal %}
                    <img src="{{ img.imagem.url }}" class="img-fluid rounded shadow-sm" alt="{{ produto.nome }}" style="max-height: 500px; width: 100%; object-fit: cover;">
                {% endif %}
            {% endfor %}
            <div class="mt-3 d-flex justify-content-center gap-2">
                {% for img in produto.imagens.all %}
                    <img src="{{ img.imagem.url }}" width="80" height="80" class="rounded border" style="object-fit: cover; cursor: pointer;">
                {% endfor %}
            </div>
        </div>

        <div class="col-md-6">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'index' %}">Home</a></li>
                    <li class="breadcrumb-item active">{{ produto.nome }}</li>
                </ol>
            </nav>

            <h1 class="display-5 fw-bold">{{ produto.nome }}</h1>
            <h3 class="text-danger mb-4">R$ {{ produto.preco }}</h3>
            
            <div class="mb-4">
                <h6 class="fw-bold">DescriÃ§Ã£o:</h6>
                <p class="text-muted">{{ produto.descricao|linebreaks }}</p>
            </div>

            <form action="/carrinho/add/{{ produto.id }}/" method="GET" class="mt-4" id="formProdutoDetalhe">
                <div class="mb-4">
                    <label class="form-label fw-bold d-block mb-3">SELECIONE O TAMANHO:</label>
                        <div class="d-flex gap-2 flex-wrap">
                            {% for t in produto.get_tamanhos_list %} <input type="radio" class="btn-check" name="tamanho" id="tam_{{ t }}" value="{{ t }}" required>
                                <label class="btn btn-outline-dark px-4 py-2" for="tam_{{ t }}">
                                {{ t }}
                            </label>
                            {% empty %}
                        <input type="radio" class="btn-check" name="tamanho" id="tam_unico" value="Ãšnico" checked required>
                                <label class="btn btn-outline-dark px-4 py-2" for="tam_unico">Ãšnico</label>
                            {% endfor %}
                        </div>
                    </div>

                <button type="submit" class="btn btn-lg text-white w-100 py-3 shadow-sm" style="background-color: #b11226; border: none;">
                ADICIONAR AO CARRINHO ðŸ›’
                </button>   
            </form>

            <div class="mt-4 p-3 bg-light border rounded">
                <small>ðŸšš <b>Frete grÃ¡tis</b> para compras acima de R$199</small><br>
                <small>ðŸ’³ Parcelamento em atÃ© 10x sem juros</small>
            </div>
        </div>
    </div>
</main>

<footer class="py-5 bg-light border-top mt-5 text-center">
    <div class="container">
        <p>Â© 2026 Vest Lavichy â€¢ Todos os direitos reservados</p>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>